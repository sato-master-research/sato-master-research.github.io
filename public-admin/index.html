<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">

    <!--p5ãƒ©ã‚¤ãƒ–ãƒ©ãƒª-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>real shop</title>
    <!--
        ã€Œpublic-adminã€ãƒ•ã‚©ãƒ«ãƒ€å†…ã§ã€Œindex.htmlã€ã¨ã—ã¦ç®¡ç†ã€‚firebaseã®ã€ŒmyFirstFirebaseã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«2ã¤ç›®ã®ã‚¢ãƒ—ãƒªã¨ã—ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã—ã¦ä½¿ã†ã€‚
        ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ—ã®ã€Œuser-siteã€ã‚¢ãƒ—ãƒªã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å…±æœ‰ã—ã¦ã„ã‚‹ã€‚
        ä½¿ã„æ–¹ï¼šã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ã®ã€Œtest211130ã€ãƒ•ã‚©ãƒ«ãƒ€ã«å…¥ã‚Šã€firebase loginã€‚
        ã€Œpublic-adminã€ãƒ•ã‚©ãƒ«ãƒ€ãŒç¾åœ¨ã€Œadmin-siteã€ã¨ã„ã†ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«æ‰±ã‚ã‚Œã¦ã„ã‚‹ã€‚
        ãƒ‡ãƒ—ãƒ­ã‚¤æ–¹æ³•ï¼šfirebase deploy --only hosting:admin-site
        ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆï¼šfirebase serve --only hosting:admin-site
        ãƒ†ã‚¹ãƒˆã¯ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆã§è¡Œã„ã€æœ¬ç•ªå®Ÿè£…ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã§è¡Œã†ã€‚æ­£ç›´ä»Šå›ã¯ã“ã®ç®¡ç†è€…ã‚µã‚¤ãƒˆã‚’é–‹ãã®ã¯è‡ªåˆ†ã ã‘ãªã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ãƒ›ã‚¹ãƒˆã§ã‚‚æœ¬ç•ªå®Ÿé¨“ã§ãã‚‹ã€‚
    -->

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/9.5.0/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/9.5.0/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/9.5.0/firebase-performance-compat.js"></script>
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
  </head>

  <body>
    <script>

        //ã‚°ãƒ­ãƒ¼ãƒãƒ«å¤‰æ•°ã§p5.jsã®å¤‰æ•°ã‚’ã“ã“ã§å®šç¾©ã™ã‚‹
        //â€»ä½¿ã†å¤‰æ•°ã¯ã“ã“ã§å…¨ã¦å®šç¾©ã—ã¦ãŠãã€‚
        var a=3;
        var b;

        //ã©ã®å•†å“ãŒå…¥ã‚‹ã‹ã¯ä¸€æ—¦è€ƒãˆãšã«ã€ç¶ºéº—ã«5-5-6ã§ä¸¦ã¹ã‚‹ã€‚
        var markerPosX= new Array(16);
        var markerPosY= new Array(16);
        var windowCenterX;
        var windowCenterY;
        console.log('innerWidth => '+innerWidth+', innerHeight => '+innerHeight);

        //ãƒãƒ¼ã‚«ãƒ¼ã®ä½™ç™½ã€XYä½ç½®ã¯ã“ã®markerRadiusã«å¿œã˜ã¦è‡ªå‹•ã§å¤‰æ›´ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹ã€‚
        //markerRadiusã¯innerHeightã«æ¯”ä¾‹ã—ã¦å¤§ãã•ãŒæ±ºã¾ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã€‚
        var markerRadius=innerHeight/7;
        console.log('markerRadius => '+markerRadius);
        var markerMargin=markerRadius/5.5;
        console.log('markerMargin => '+markerMargin);

        var posX= new Array();
        var posY= new Array();
        var itemPos= new Array();

        //ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³æƒ…å ±ã‚’æ ¼ç´ã™ã‚‹é…åˆ—
        var userIcon=new Array();
        var uPosX=new Array();
        var uPosY=new Array();
        var currentPageNum=new Array();
        //ä½œã£ã¦ã¯ã¿ãŸãŒä»Šã®ã¨ã“ã‚currentPageNum[]é…åˆ—ã—ã‹ä½¿ã£ã¦ã„ãªã„ï¼ˆuPosXYã¯ä½¿ã£ã¦ã„ãªã„ï¼‰
        for(var i=0; i<5; i++){
            userIcon[i]=[uPosX[i],uPosY[i],currentPageNum[i]];
        }
        //ã®ã¡ã®ã¡ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã¯æŒ‡å®šã—ãŸã»ã†ãŒã„ã„
        var userIconColor_H=new Array();//HSBã§ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚¢ã‚¤ã‚³ãƒ³è‰²ã‚’æŒ‡å®šã™ã‚‹
        var userIconRadius=markerRadius/6;

        var userScroll=new Array();//å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å€¤ã‚’æ ¼ç´ã™ã‚‹ã€‚é…åˆ—ã¯ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ—ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ•°ã ã‘å¢—ãˆã‚‹ã€‚

        var cartItemList_1=new Array(16);//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ã‚«ãƒ¼ãƒˆã®ä¸­èº«ã®ãƒªã‚¹ãƒˆ
        var cartItemList_2=new Array(16);//ãƒ¦ãƒ¼ã‚¶ãƒ¼2ã®ã‚«ãƒ¼ãƒˆã®ä¸­èº«ã®ãƒªã‚¹ãƒˆ
        var cartItemList_3=new Array(16);//ãƒ¦ãƒ¼ã‚¶ãƒ¼3ã®ã‚«ãƒ¼ãƒˆã®ä¸­èº«ã®ãƒªã‚¹ãƒˆ
        var cartItemList_4=new Array(16);//ãƒ¦ãƒ¼ã‚¶ãƒ¼4ã®ã‚«ãƒ¼ãƒˆã®ä¸­èº«ã®ãƒªã‚¹ãƒˆ
        var cartItemList_5=new Array(16);//ãƒ¦ãƒ¼ã‚¶ãƒ¼5ã®ã‚«ãƒ¼ãƒˆã®ä¸­èº«ã®ãƒªã‚¹ãƒˆ
        var cartMarkerOffset=10;//ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚ŒãŸå•†å“ã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«ä¸¸ã§å›²ã‚€ã®ã§ã€é‡ãªã‚‰ãªã„ã‚ˆã†ã«ã‚ªãƒ•ã‚»ãƒƒãƒˆã€‚

        var user1_histry=new Array();//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®è¶³è·¡
        var user2_histry=new Array();//ãƒ¦ãƒ¼ã‚¶ãƒ¼2ã®è¶³è·¡
        var user3_histry=new Array();//ãƒ¦ãƒ¼ã‚¶ãƒ¼3ã®è¶³è·¡
        var user4_histry=new Array();//ãƒ¦ãƒ¼ã‚¶ãƒ¼4ã®è¶³è·¡
        var user5_histry=new Array();//ãƒ¦ãƒ¼ã‚¶ãƒ¼5ã®è¶³è·¡

        var userItemHist= new Array(16);//ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã©ã®å•†å“ã«ä½•å›è¨ªã‚ŒãŸã®ã‹ã®é…åˆ—
        var userCurrentItemHistFlag;//ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä»Šè¦‹ã¦ã„ã‚‹å•†å“ã«éå»ä½•å›è¨ªã‚ŒãŸã‹

        var user1_orderFlag=0;
        var user2_orderFlag=0;
        var user3_orderFlag=0;
        var user4_orderFlag=0;
        var user5_orderFlag=0;
        var user1_orderTimeStamp=0;
        var user2_orderTimeStamp=0;
        var user3_orderTimeStamp=0;
        var user4_orderTimeStamp=0;
        var user5_orderTimeStamp=0;

        var whiteGrad_u1=0;//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ã‚ªãƒ¼ãƒ€ãƒ¼ãŒç…§ã‚‰ã—ã¦ã„ã‚‹å…‰
        var whiteGrad_u2=0;
        var whiteGrad_u3=0;
        var whiteGrad_u4=0;
        var whiteGrad_u5=0;

        var whiteRadius_1=markerRadius;
        var whiteRadius_2=markerRadius;
        var whiteRadius_3=markerRadius;
        var whiteRadius_4=markerRadius;
        var whiteRadius_5=markerRadius;
        
        var whiteRad_step_1=0;
        var whiteRad_step_2=0;
        var whiteRad_step_3=0;
        var whiteRad_step_4=0;
        var whiteRad_step_5=0;

        //å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“å†™çœŸNo.
        var user_seeingPhoto=new Array(5);
        //å†™çœŸNo.ã«æ²¿ã£ã¦å‹•ããŸã‚ã®è§’åº¦
        var user_cAngle=[0,0,0,0,0];//currentAngleã®ç•¥
        var user_nAngle=[0,0,0,0,0];//nextAngleã®ç•¥
        var user_posAngle=[0,0,0,0,0];//ä»Šç¾åœ¨ã®ä½ç½®ã‚’æ±ºã‚ã‚‹ãŸã‚ã®ã‚¢ãƒ³ã‚°ãƒ«
        var user_angleMoveFlag=[0,0,0,0,0];//ãƒ•ãƒ©ã‚°ãŒç«‹ã£ã¦ã„ã‚‹é–“ã¯æ»‘ã‚‰ã‹ã«å‹•ã

        //ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚ŒãŸã¨ãã®ãƒãƒ¼ã‚«ãƒ¼æ ãŒã‚¯ãƒ«ãƒƒã¨ãªã‚‹ãŸã‚ã®è§’åº¦ã®é…åˆ—
        var user_cartArcAngle=new Array(5);
        var item_cartAngle_1=new Array(16);
        var item_cartAngle_2=new Array(16);
        var item_cartAngle_3=new Array(16);
        var item_cartAngle_4=new Array(16);
        var item_cartAngle_5=new Array(16);
        user_cartArcAngle[0]=item_cartAngle_1;
        user_cartArcAngle[1]=item_cartAngle_1;
        user_cartArcAngle[2]=item_cartAngle_1;
        user_cartArcAngle[3]=item_cartAngle_1;
        user_cartArcAngle[4]=item_cartAngle_1;
        console.log('user_cartArcAngle => '+user_cartArcAngle);

        var itemHistry_1=new Array();//å•†å“1ï¼ˆitem01ï¼‰ã®ã€è¶³è·¡ã®é…åˆ—ã€‚ã„ã™ã¨ã‚Šã‚²ãƒ¼ãƒ ï¼ˆã„ã™ã¯å¢—ãˆã¦ã„ãï¼‰ã€‚
        //ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã¯ãã®å•†å“ãƒšãƒ¼ã‚¸ã‚’é€€å‡ºã—ãŸèª°ã‹ãŸã¡ã®é †ç•ªã€‚è¦ç´ ã¯æœ€åˆã¯å…¨ã¦nullã€‚èª°ã‹ãŒãã®å•†å“ã‹ã‚‰é€€å‡ºã™ã‚‹ã¨ã€ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç•ªå·ãŒæ ¼ç´ã•ã‚Œã¦ã„ãã€‚

        //--p5.js----p5.js----p5.js----p5.js----p5.js----p5.js--//
        //--p5.js----p5.js----p5.js----p5.js----p5.js----p5.js--//

        //ã¾ãšç”»åƒã‚’èª­ã¿è¾¼ã‚€
        function preload(){
            cartImg=loadImage('images/cart.png')//cart.pngã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚µã‚¤ã‚ºãŒW68, H59
            orderedImg=loadImage('images/ordered.png')//ordered.pngã¯ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚µã‚¤ã‚ºãŒW59, H40
        }

        function setup(){
            
            console.log('b => '+b);
            createCanvas(innerWidth+100, innerHeight+100);
            windowCenterX=innerWidth/2+50;
            windowCenterY=innerHeight/2+50;

            //ãƒãƒ¼ã‚«ãƒ¼ã®ä½ç½®ã‚’è¨­å®šã™ã‚‹ã€‚
            //ãƒãƒ¼ã‚«ãƒ¼1æ®µç›®
            markerPosX[0]=windowCenterX;
            markerPosX[1]=markerPosX[0]-markerRadius*2-markerMargin;
            markerPosX[2]=markerPosX[1]-markerRadius*2-markerMargin;
            markerPosX[3]=markerPosX[0]+markerRadius*2+markerMargin;
            markerPosX[4]=markerPosX[3]+markerRadius*2+markerMargin;
            markerPosY[0]=windowCenterY+markerRadius*2+markerMargin;
            markerPosY[1]=windowCenterY+markerRadius*2+markerMargin;
            markerPosY[2]=windowCenterY+markerRadius*2+markerMargin;
            markerPosY[3]=windowCenterY+markerRadius*2+markerMargin;
            markerPosY[4]=windowCenterY+markerRadius*2+markerMargin;

            //ãƒãƒ¼ã‚«ãƒ¼2æ®µç›®
            markerPosX[5]=markerPosX[0];
            markerPosX[6]=markerPosX[1];
            markerPosX[7]=markerPosX[2];
            markerPosX[8]=markerPosX[3];
            markerPosX[9]=markerPosX[4];
            markerPosY[5]=windowCenterY;
            markerPosY[6]=windowCenterY;
            markerPosY[7]=windowCenterY;
            markerPosY[8]=windowCenterY;
            markerPosY[9]=windowCenterY;

            //ãƒãƒ¼ã‚«ãƒ¼3æ®µç›®
            markerPosX[10]=windowCenterX-markerMargin/2-markerRadius;
            markerPosX[11]=markerPosX[10]-markerRadius*2-markerMargin;
            markerPosX[12]=markerPosX[11]-markerRadius*2-markerMargin;
            markerPosX[13]=windowCenterX+markerMargin/2+markerRadius;
            markerPosX[14]=markerPosX[13]+markerRadius*2+markerMargin;
            markerPosX[15]=markerPosX[14]+markerRadius*2+markerMargin;
            markerPosY[10]=windowCenterY-markerRadius*2-markerMargin;
            markerPosY[11]=windowCenterY-markerRadius*2-markerMargin;
            markerPosY[12]=windowCenterY-markerRadius*2-markerMargin;
            markerPosY[13]=windowCenterY-markerRadius*2-markerMargin;
            markerPosY[14]=windowCenterY-markerRadius*2-markerMargin;
            markerPosY[15]=windowCenterY-markerRadius*2-markerMargin;

            //å•†å“No.ã‚’ãƒãƒ¼ã‚«ãƒ¼ä½ç½®ã«ä¸€è‡´ã•ã›ã‚‹ã€‚
            posX[0]=markerPosX[12]; posY[0]=markerPosY[12];//ã‚ªãƒ¼ãƒ‰ãƒªãƒ¼ã‚³ã‚³ãƒƒãƒˆãŒä½•ç•ªã®ä½ç½®ã«ã‚ã‚‹ã‹ã€‚
            posX[1]=markerPosX[7]; posY[1]=markerPosY[7];//ãƒšã‚¤ãƒ´
            posX[2]=markerPosX[10]; posY[2]=markerPosY[10];//å±±èŒ¶èŠ±
            posX[3]=markerPosX[4]; posY[3]=markerPosY[4];//ã‚¯ãƒ«ãƒ´ã‚¡ãƒ¼ãƒ¬
            posX[4]=markerPosX[6]; posY[4]=markerPosY[6];//ãƒˆãƒ­ãƒ³ãƒ
            posX[5]=markerPosX[15]; posY[5]=markerPosY[15];//ãƒ•ã‚§ãƒ«ãƒ¡
            posX[6]=markerPosX[0]; posY[6]=markerPosY[0];//ã‚¹ã‚¯ã‚«ãƒƒãƒ—
            posX[7]=markerPosX[13]; posY[7]=markerPosY[13];//ãƒ—ãƒ©ãƒƒã‚«
            posX[8]=markerPosX[1]; posY[8]=markerPosY[1];//ãƒ†ã‚£ãƒ«ãƒˆ
            posX[9]=markerPosX[8]; posY[9]=markerPosY[8];//ãƒ•ãƒ©ãƒƒãƒ—
            posX[10]=markerPosX[3]; posY[10]=markerPosY[3];//ã‚°ãƒ¬ã‚³
            posX[11]=markerPosX[2]; posY[11]=markerPosY[2];//ãƒ‘ã‚¤ãƒ«
            posX[12]=markerPosX[9]; posY[12]=markerPosY[9];//ãƒ ãƒ‹ãƒ¥
            posX[13]=markerPosX[14]; posY[13]=markerPosY[14];//ãƒ¤ãƒ³ãƒŸãƒ¼
            posX[14]=markerPosX[5]; posY[14]=markerPosY[5];//ãƒŠãƒ³ãƒãƒ¼ã‚º
            posX[15]=markerPosX[11]; posY[15]=markerPosY[11];//ã‚³ã‚³ãƒƒãƒˆ

            for(var i=0; i<16; i++){
                itemPos[i]=[posX[i], posY[i]];
            }
        
            colorMode(HSB, 360, 100, 100, 100);
            userIconColor_H[0]=288;
            userIconColor_H[1]=72;
            userIconColor_H[2]=216;
            userIconColor_H[3]=0;
            userIconColor_H[4]=144;

            textSize(20);
            textAlign(CENTER);
            imageMode(CENTER);
        }

        function draw(){
            background(0);

            for(var i=0; i<16; i++){
                push();
                translate(itemPos[i][0], itemPos[i][1]);//å„itemPosã¸åº§æ¨™ã‚’ç§»å‹•

                //ãƒãƒ¼ã‚«ãƒ¼ã®æç”»
                noFill(); stroke(255); strokeWeight(0.3);
                ellipse(0, 0, markerRadius*2, markerRadius*2);

                fill(255); noStroke();
                // text('item '+(i+1), 0, 0);

                //ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚ŒãŸã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ãŒãã‚‹ã£ã¨ä¸€å‘¨ã—ã¦ã€ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã«å¤‰åŒ–ã™ã‚‹ã‚ˆã†ãªã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ä½œã‚ŠãŸã„ã€‚

                //æ±ºæ¸ˆã•ã‚ŒãŸã‚‰ã€ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã‚’ï¼ˆã§ãã‚Œã°ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã§ï¼‰æ±ºæ¸ˆã•ã‚ŒãŸãƒãƒ¼ã‚¯ã«å¤‰åŒ–ã•ã›ãŸã„ã€‚ãŸã¶ã‚“ã“ã“ã¯å°‘ã—ç›®ç«‹ã¤å¤‰åŒ–ã®ã»ã†ãŒã„ã„ã€‚
                //ã¾ãšã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã€æ±ºæ¸ˆã•ã‚ŒãŸãƒãƒ¼ã‚¯ã¸ã®å¤‰åŒ–ã‚’åˆ¶ä½œã™ã‚‹ã€‚
                //--!!--æŠ•å½±å¾Œã®è¿½è¨˜--!!--æ±ºæ¸ˆã•ã‚ŒãŸã¨ãã¯ç…§ã‚‰ã•ã‚Œã‚‹ã‚ˆã†ãªæ„Ÿã˜ã«ã™ã‚‹ã€‚

                //ã‚«ãƒ¼ãƒˆè¿½åŠ ã‚’æç”»ã™ã‚‹
                var cartIconRate=1/5;//ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚ŒãŸã‚¢ã‚¤ã‚³ãƒ³ã®å¤§ãã•ã®å€ç‡

                //--!!--æŠ•å½±å¾Œã®è¿½è¨˜--!!--ã‚ã¨ã¯å†™çœŸåˆ‡ã‚Šæ›¿ãˆã‚’ã©ã†ã™ã‚‹ã‹ã€ã®ã¿ã€‚
                //å†™çœŸåˆ‡ã‚Šæ›¿ãˆã¯ã‚·ãƒ³ãƒ—ãƒ«ã«ã—ã¦ãƒã‚¤ã‚ºã«ãªã‚‰ãªã„ã‚ˆã†ã«ã—ãŸã„ã€‚æ–‡ç« ã‚’èª­ã¾ãªã„ã‚¿ã‚¤ãƒ—ã‚‚ã„ã‚‹ã¯ãšã€‚
                //ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã¨åŒã˜ã‚³ãƒ³ã‚»ãƒ—ãƒˆã§ã€6æšå†™çœŸå‰æã§ã‚¹ãƒ ãƒ¼ã‚ºã«å††å‘¨ã®ä¸Šã‚’å‹•ã‹ã™ã€‚
                
                //--!!--æŠ•å½±å¾Œã®è¿½è¨˜--!!--ã‚«ãƒ¼ãƒˆã®ã‚¢ã‚¤ã‚³ãƒ³è¡¨ç¤ºã‚ˆã‚Šã‚‚ã€ã‚«ãƒ¼ãƒˆã«è¿½åŠ ã•ã‚ŒãŸã¨ãã«ã‚¯ãƒ«ãƒƒã¨å›²ã†æ„Ÿã˜ã®ã»ã†ãŒã„ã„ã‹ã‚‚
                //--!!--æŠ•å½±å¾Œã®è¿½è¨˜--!!--ãƒã‚§ãƒƒã‚¯ãƒãƒ¼ã‚¯ã‚‚ã‚«ãƒ¼ãƒˆãƒãƒ¼ã‚¯ã‚‚è¦ã‚‰ãªã„æ°—ãŒã™ã‚‹ã€‚ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¤ã‚³ãƒ³ã‚’ãªãã™å ´åˆã€ã‚¯ãƒ«ãƒƒã¨ã™ã‚‹ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã¯å¿…é ˆã€‚
                //!!--ã“ã“ã§ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ã‚³ãƒ³ã¨ãã®æ ç·šã®è¡¨ç¤ºä½ç½®ã‚’ã€ãƒãƒ¼ã‚«ãƒ¼æ ã«è¢«ã‚‰ãªã„ã‚ˆã†ã«å°‘ã—å†…å´ã¸èª¿æ•´ã™ã‚‹ã€‚
                if(cartItemList_1[i]>=1){
                    noFill(0); stroke(userIconColor_H[0], 50, 100,100); strokeWeight(2);
                    ellipse(0,0,markerRadius*2-cartMarkerOffset*0, markerRadius*2-cartMarkerOffset*0);
                    // ellipse(0, 0-markerRadius, 150*cartIconRate,150*cartIconRate);
                    // image(orderedImg, 0, 0-markerRadius, 68*cartIconRate, 59*cartIconRate);
                }
                if(cartItemList_2[i]>=1){
                    noFill(0); stroke(userIconColor_H[1], 50, 100,100); strokeWeight(2);
                    ellipse(0,0,markerRadius*2-cartMarkerOffset*1, markerRadius*2-cartMarkerOffset*1);
                    // ellipse(0, 0-markerRadius, 150*cartIconRate,150*cartIconRate);
                    // image(orderedImg, 0, 0-markerRadius, 68*cartIconRate, 59*cartIconRate);
                }
                if(cartItemList_3[i]>=1){
                    noFill(0); stroke(userIconColor_H[2], 50, 100,100); strokeWeight(2);
                    ellipse(0,0,markerRadius*2-cartMarkerOffset*2, markerRadius*2-cartMarkerOffset*2);
                    // ellipse(0, 0-markerRadius, 150*cartIconRate,150*cartIconRate);
                    // image(orderedImg, 0, 0-markerRadius, 68*cartIconRate, 59*cartIconRate);
                }
                if(cartItemList_4[i]>=1){
                    noFill(0); stroke(userIconColor_H[3], 50, 100,100); strokeWeight(2);
                    ellipse(0,0,markerRadius*2-cartMarkerOffset*3, markerRadius*2-cartMarkerOffset*3);
                    // ellipse(0, 0-markerRadius, 150*cartIconRate,150*cartIconRate);
                    // image(orderedImg, 0, 0-markerRadius, 68*cartIconRate, 59*cartIconRate);
                }
                if(cartItemList_5[i]>=1){
                    noFill(0); stroke(userIconColor_H[4], 50, 100,100); strokeWeight(2);
                    ellipse(0,0,markerRadius*2-cartMarkerOffset*4, markerRadius*2-cartMarkerOffset*4);
                    // ellipse(0, 0-markerRadius, 150*cartIconRate,150*cartIconRate);
                    // image(orderedImg, 0, 0-markerRadius, 68*cartIconRate, 59*cartIconRate);
                }

                //æ±ºæ¸ˆã‚¨ãƒ•ã‚§ã‚¯ãƒˆå®Œæˆã€‚
                //æ±ºæ¸ˆã•ã‚Œã‚‹ã¨ã€ç…§ã‚‰ã—ã¦ã„ã‚‹å…‰ãŒæœºå¥¥ã¸ã¨æ¶ˆãˆã¦ã„ãã€‚å•†å“ãŒæŒã£ã¦ã„ã‹ã‚Œã‚‹æ§˜å­ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸã€‚
                if(user1_orderFlag==1){//æ±ºæ¸ˆã•ã‚ŒãŸã€‚
                    if(cartItemList_1[i]=='ordered'){//item0iãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ã‚ˆã£ã¦'ordered'ã«ãªã£ã¦ã„ã‚‹ã¨ã
                        if(whiteGrad_u1<256){
                            whiteGrad_u1+=2.5;
                        }
                        fill(whiteGrad_u1); stroke(userIconColor_H[0], 50, 100,100); strokeWeight(3);
                        ellipse(0,0,whiteRadius_1*2, whiteRadius_1*2);
                        if(millis()-user1_orderTimeStamp>3000){//3ç§’å¾Œ
                            if(whiteRadius_1>=0){whiteRadius_1-=whiteRad_step_1;}
                            whiteRad_step_1+=0.02;
                        }
                    }
                }
                if(user2_orderFlag==1){//æ±ºæ¸ˆã•ã‚ŒãŸã€‚
                    if(cartItemList_2[i]=='ordered'){//item0iãŒãƒ¦ãƒ¼ã‚¶ãƒ¼2ã«ã‚ˆã£ã¦'ordered'ã«ãªã£ã¦ã„ã‚‹ã¨ã
                        if(whiteGrad_u2<256){
                            whiteGrad_u2+=2.5;
                        }
                        fill(whiteGrad_u2); stroke(userIconColor_H[1], 50, 100,100); strokeWeight(3);
                        ellipse(0,0,whiteRadius_2*2, whiteRadius_2*2);
                        if(millis()-user2_orderTimeStamp>3000){//3ç§’å¾Œ
                            if(whiteRadius_2>=0){whiteRadius_2-=whiteRad_step_2;}
                            whiteRad_step_2+=0.02;
                        }
                    }
                }
                if(user3_orderFlag==1){//æ±ºæ¸ˆã•ã‚ŒãŸã€‚
                    if(cartItemList_3[i]=='ordered'){//item0iãŒãƒ¦ãƒ¼ã‚¶ãƒ¼3ã«ã‚ˆã£ã¦'ordered'ã«ãªã£ã¦ã„ã‚‹ã¨ã
                        if(whiteGrad_u3<256){
                            whiteGrad_u3+=2.5;
                        }
                        fill(whiteGrad_u3); stroke(userIconColor_H[2], 50, 100,100); strokeWeight(3);
                        ellipse(0,0,whiteRadius_3*2, whiteRadius_3*2);
                        if(millis()-user3_orderTimeStamp>3000){//3ç§’å¾Œ
                            if(whiteRadius_3>=0){whiteRadius_3-=whiteRad_step_3;}
                            whiteRad_step_3+=0.02;
                        }
                    }
                }
                if(user4_orderFlag==1){//æ±ºæ¸ˆã•ã‚ŒãŸã€‚
                    if(cartItemList_4[i]=='ordered'){//item0iãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ã‚ˆã£ã¦'ordered'ã«ãªã£ã¦ã„ã‚‹ã¨ã
                        if(whiteGrad_u4<256){
                            whiteGrad_u4+=2.5;
                        }
                        fill(whiteGrad_u4); stroke(userIconColor_H[3], 50, 100,100); strokeWeight(3);
                        ellipse(0,0,whiteRadius_4*2, whiteRadius_4*2);
                        if(millis()-user4_orderTimeStamp>3000){//3ç§’å¾Œ
                            if(whiteRadius_4>=0){whiteRadius_4-=whiteRad_step_4;}
                            whiteRad_step_4+=0.02;
                        }
                    }
                }
                if(user5_orderFlag==1){//æ±ºæ¸ˆã•ã‚ŒãŸã€‚
                    if(cartItemList_5[i]=='ordered'){//item0iãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ã‚ˆã£ã¦'ordered'ã«ãªã£ã¦ã„ã‚‹ã¨ã
                        if(whiteGrad_u5<256){
                            whiteGrad_u5+=2.5;
                        }
                        fill(whiteGrad_u5); stroke(userIconColor_H[4], 50, 100,100); strokeWeight(3);
                        ellipse(0,0,whiteRadius_5*2, whiteRadius_5*2);
                        if(millis()-user5_orderTimeStamp>3000){//3ç§’å¾Œ
                            if(whiteRadius_5>=0){whiteRadius_5-=whiteRad_step_5;}
                            whiteRad_step_5+=0.02;
                        }
                    }
                }


                //ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒä½•åº¦ã‚‚åŒã˜å•†å“ã‚’è¦‹ã«ãã¦ã„ã‚‹ã“ã¨ã‚’è¡¨ã™ã‚¿ã‚¤ãƒ—â†’æ¡ç”¨ã€‚
                //â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ç¾åœ¨ä½ç½®ã®ä¸¸ã«å¤–æ ã‚’ã¤ã‘ã‚‹
                //â†’ã€Œãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã„ã¤ã‚‚ãã®å•†å“ã‚’è²·ã£ã¦ã„ã‚‹ã€ã“ã¨ã‚’è¡¨ã™ã®ã«ã‚‚å¿œç”¨ã§ãã‚‹å¯èƒ½æ€§ã‚ã‚Šã€‚
                //â†’ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãã®å•†å“ã‚’è²·ãŠã†ã‹ã©ã‚Œã ã‘è¿·ã£ã¦ã„ã‚‹ã‹/æ¤œè¨ã—ã¦ã„ã‚‹ã‹ã‚’ç¤ºå”†ã§ãã‚‹ã®ã§ã€æŠ•ã’éŠ­æ–‡åŒ–ææ¡ˆã¸ç¹‹ãŒã‚‹

                //ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¾¿ã£ã¦ããŸï¼ˆæ¯”ã¹ã¦ããŸï¼‰å•†å“ã‚’å…¨ã¦è¡¨ã™ã‚¿ã‚¤ãƒ—â†’ä¸æ¡ç”¨ã€‚ãƒã‚¤ã‚ºãŒå¤šã„ã®ã¨ã€ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ æ€§å°‘ãªã„ã€‚
                //â†’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¾åœ¨ä½ç½®ã«é–¢ã‚ã‚‰ãšã€ä¸€åº¦ã§ã‚‚ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå–ã£ãŸãƒšãƒ¼ã‚¸ã«å°ã‚’ã¤ã‘ã‚‹
                //â†’ç¾åœ¨ä½ç½®ã¨ã®å…¼ã­åˆã„ãŒã¤ãã¥ã‚‰ã„ã€‚

                //è¶³è·¡ã‚’æç”»ã™ã‚‹
                // var histryIconRate=1/7//ã‚¢ã‚¤ã‚³ãƒ³ã®å¤§ãã•å€ç‡
                // //ãƒ¦ãƒ¼ã‚¶ãƒ¼1
                // for(var h=0; h<user1_histry.length; h++){
                //     fill(0); stroke(userIconColor_H[0], 50, 100,100); strokeWeight(1);
                //     if(user1_histry[h]==i+1){//hï¼å‚ç…§ã—ã¦ã„ã‚‹user1_histryè¦ç´ ã¨ã‚¢ã‚¤ãƒ†ãƒ ãƒŠãƒ³ãƒãƒ¼ãŒä¸€è‡´ã—ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ†ãƒ ã«ã¯å°ã‚’ã¤ã‘ã‚‹ã€‚
                //         ellipse(0-markerRadius,0,150*histryIconRate,150*histryIconRate);
                //     }
                // }

                //item01ã«ã¤ã„ã¦ã„ã‚‹è¶³è·¡ã‚’æç”»ã™ã‚‹
                // if(i==0){
                //     for(var iH=0; iH<itemHistry_1.length; iH++){//item01ã®ãƒ’ã‚¹ãƒˆãƒªãƒ¼ã®é•·ã•ã ã‘ç¹°ã‚Šè¿”ã™
                //         fill(0); stroke(userIconColor_H[itemHistry_1[iH]-1], 50, 100,100); strokeWeight(1);
                //         ellipse(0,0-markerRadius,15,15);
                //         if(cartItemList_1[i]>=1){//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ãŒå•†å“1ã‚’ã‚«ãƒ¼ãƒˆã«å…¥ã‚Œã¦ã„ã‚‹å ´åˆ
                //             image(cartImg, 0, 0-markerRadius, 10,10);
                //         }
                //         rotate(radians(-10));
                //     }
                // }

                pop();
            }

            //å¤æ™‚ç‚¹ã§ã®å††å¼§ã®æ›¸ãæ–¹ã€‚
            // arc(checkingPosX[0],checkingPosY[0],iconDiam,iconDiam,radians(angleA),radians(angleA+120));
            // arc(ä¸­å¿ƒxåº§æ¨™, ä¸­å¿ƒyåº§æ¨™, åŠå¾„x, åŠå¾„y, å§‹ç‚¹ã®radianè§’åº¦, çµ‚ç‚¹ã®radianè§’åº¦)
            //scroll[]ã®æœ€å¤§å€¤ã¯ã€Œ4979ã€

            //ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ç¾åœ¨ä½ç½®ã‚¢ã‚¤ã‚³ãƒ³ã®æç”»ï¼‹è¶³è·¡ãŒæ·±ããªã‚‹æå†™
            noStroke();
            ellipseMode(CENTER);
            for(var u=0; u<5; u++){//uã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ã€‚å•†å“ã®foræ–‡ã¨ã®åŒºåˆ¥ãŒåˆ†ã‹ã‚Šã¥ã‚‰ã„ã®ã§ã€å•†å“ã¯iã§foræ–‡ã‚’ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯uã§foræ–‡ã‚’å›ã™ã€‚
                if(currentPageNum[u]>0){
                    var centX=itemPos[currentPageNum[u]-1][0];
                    var centY=itemPos[currentPageNum[u]-1][1];
                    
                    for(var i=0; i<16; i++){
                        switch(u){
                        case 0://ãƒ¦ãƒ¼ã‚¶ãƒ¼1
                            userItemHist=userHistryItemCount(user1_histry);
                            userCurrentItemHistFlag=userItemHist[currentPageNum[u]-1];//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ç¢ºèªã•ã‚ŒãŸå›æ•°;
                        break;
                        case 1://ãƒ¦ãƒ¼ã‚¶ãƒ¼2
                            userItemHist=userHistryItemCount(user2_histry);
                            userCurrentItemHistFlag=userItemHist[currentPageNum[u]-1];//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ç¢ºèªã•ã‚ŒãŸå›æ•°;
                        break;
                        case 2://ãƒ¦ãƒ¼ã‚¶ãƒ¼3
                            userItemHist=userHistryItemCount(user3_histry);
                            userCurrentItemHistFlag=userItemHist[currentPageNum[u]-1];//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ç¢ºèªã•ã‚ŒãŸå›æ•°;
                        break;
                        case 3://ãƒ¦ãƒ¼ã‚¶ãƒ¼4
                            userItemHist=userHistryItemCount(user4_histry); 
                            userCurrentItemHistFlag=userItemHist[currentPageNum[u]-1];//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ç¢ºèªã•ã‚ŒãŸå›æ•°;
                        break;
                        case 4://ãƒ¦ãƒ¼ã‚¶ãƒ¼5
                            userItemHist=userHistryItemCount(user5_histry);
                            userCurrentItemHistFlag=userItemHist[currentPageNum[u]-1];//ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“ãŒãƒ¦ãƒ¼ã‚¶ãƒ¼1ã«ç¢ºèªã•ã‚ŒãŸå›æ•°;
                        break;
                        }
                    }

                    //ä½œæˆä¸­ã®ç¢ºèªç”¨
                    // fill(255);
                    // text(userCurrentItemHistFlag, centX,centY-100);
                    
                    var footPrintRadius=userIconRadius;
                    //ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç¾åœ¨è¦‹ã¦ã„ã‚‹å•†å“ãŒã€ãã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ç¢ºèªã•ã‚ŒãŸå›æ•°ãŒå¤šã„ã»ã©...ã‚’è¡¨ç¤ºã™ã‚‹ã€‚
                    
                    //ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ã®è¶³è·¡å®Œæˆã€‚
                    //userCurrentItemFlagã¯æœ€åˆã«ãã®ãƒšãƒ¼ã‚¸ã«å…¥ã£ãŸæ™‚ç‚¹ã§1ã«ãªã‚‹ã€‚ãã®ãƒšãƒ¼ã‚¸ã«å…¥ã‚‹ã”ã¨ã«æ•°ãŒå¢—ãˆã‚‹ã€‚
                    //ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ï¼šä¸€ç•ªã—ãŸã«å°‘ã—å¤§ããªé»’ä¸¸ã‚’ç½®ãã“ã¨ã§ã€ãƒãƒ¼ã‚«ãƒ¼ç·šã‹ã‚‰ã‚¢ã‚¤ã‚³ãƒ³ã‚’æµ®ã‹ã›ã‚‹
                    var userShadowRadius=userIconRadius+userCurrentItemHistFlag*8
                    
                    //--!--ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¢ã‚¤ã‚³ãƒ³ï¼ˆè©³ã—ãè¦‹ã¦ã„ã‚‹ï¼‰ã®æç”»

                    //ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒ100ã‚’è¶…ãˆã¦ã„ã‚‹ã¨ãï¼ˆãƒšãƒ¼ã‚¸ä¸‹éƒ¨ã«ã„ã‚‹ã¨ãï¼‰ã¯ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã«æ²¿ã£ã¦å•†å“ã®å‘¨ã‚Šã‚’å›ã‚‹
                    if(userScroll[u]>7.23){
                        var iconPosX=centX+markerRadius*cos(radians(userScroll[u]-90));
                        var iconPosY=centY+markerRadius*sin(radians(userScroll[u]-90));
                        //ã‚¢ã‚¤ã‚³ãƒ³ã®é»’ã„å½±
                        fill(0);noStroke();
                        ellipse(iconPosX, iconPosY, userShadowRadius,userShadowRadius);
                        fill(userIconColor_H[u],50,100,100); noStroke();
                        ellipse(iconPosX, iconPosY, userIconRadius, userIconRadius);
                        for(var i=0; i<userCurrentItemHistFlag-1; i++){
                            noFill(); stroke(userIconColor_H[u],50,100,100); strokeWeight(2);//ã„ã„æ„Ÿã˜ã€‚
                            footPrintRadius=footPrintRadius+8;
                            ellipse(iconPosX, iconPosY,footPrintRadius,footPrintRadius);
                        }
                        user_cAngle[u]=0;
                    }//ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒ100ä»¥ä¸‹ã®ã¨ãï¼ˆãƒšãƒ¼ã‚¸ä¸Šéƒ¨ã«ã„ã‚‹ã¨ãï¼‰ã¯é¸æŠå†™çœŸã«ã‚ˆã£ã¦å•†å“ã®å‘¨ã‚Šã‚’å›ã‚‹
                    else{
                        if(user_angleMoveFlag[u]==1){
                            user_nAngle[u]=user_seeingPhoto[u]*60;
                            if(user_cAngle[u]<user_nAngle[u]){
                                user_posAngle[u]+=3;
                                if(user_posAngle[u]==user_nAngle[u]){//nextAngleã«åˆ°é”ã—ãŸ
                                    user_angleMoveFlag[u]=0;
                                    user_cAngle[u]=user_nAngle[u];
                                }
                            }
                            if(user_cAngle[u]>user_nAngle[u]){
                                user_posAngle[u]-=3;
                                if(user_posAngle[u]==user_nAngle[u]){//nextAngleã«åˆ°é”ã—ãŸ
                                    user_angleMoveFlag[u]=0;
                                    user_cAngle[u]=user_nAngle[u];
                                }
                            }
                        }
                        //ã“ã®iconPosXã‚’æ»‘ã‚‰ã‹ã«å‹•ã‹ã™ã€‚
                        var iconPosX=centX+markerRadius*cos(radians(user_posAngle[u]-90));
                        var iconPosY=centY+markerRadius*sin(radians(user_posAngle[u]-90));
                        //ã‚¢ã‚¤ã‚³ãƒ³ã®é»’ã„å½±
                        fill(0);noStroke();
                        ellipse(iconPosX, iconPosY, userShadowRadius,userShadowRadius);
                        fill(userIconColor_H[u],50,100,100); noStroke();
                        ellipse(iconPosX, iconPosY, userIconRadius, userIconRadius);
                        for(var i=0; i<userCurrentItemHistFlag-1; i++){
                            noFill(); stroke(userIconColor_H[u],50,100,100); strokeWeight(2);//ã„ã„æ„Ÿã˜ã€‚
                            footPrintRadius=footPrintRadius+8;
                            ellipse(iconPosX, iconPosY,footPrintRadius,footPrintRadius);
                        }
                    }
                }
            }//for(var u=0; u<5; u++){}çµ‚ã‚ã‚Š

            //å•†å“ãŒã‚«ãƒ¼ãƒˆå†…ã‹ã‚‰æ³¨æ–‡ã•ã‚ŒãŸã¨ãã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã€‚
            //ä½•ã‹ã‚’èµ·ç‚¹ã«ã—ã¦user1_orderFlagã‚’0ã‹ã‚‰1ã«ã™ã‚‹ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã¯0ã€‚
            //å„ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ˆã£ã¦æ³¨æ–‡ã•ã‚ŒãŸå•†å“ã®æ¨ªã«è¡¨ç¤ºå‡¦ç†ã‚’æãã€‚
            if(user1_orderFlag!=0){
                //!!--ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼1ãŒæ³¨æ–‡ã—ã¦ã‹ã‚‰10ç§’é–“ã®è¡¨ç¤ºå‡¦ç†ã‚’è¨˜è¿°ã€‚
                if(millis()-user1_orderTimeStamp>10000){//10ç§’é–“
                    user1_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
                    user1_orderFlag=0;
                    //æ±ºæ¸ˆã‚¨ãƒ•ã‚§ã‚¯ãƒˆå¤‰æ•°ã®åˆæœŸåŒ–
                    whiteGrad_u1=0;
                    whiteRadius_1=markerRadius;
                    whiteRad_step_1=0;
                    console.log("user1_orderFlag_å›åã—ãŸ")
                }
            }
            if(user2_orderFlag!=0){
                //!!--ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼2ãŒæ³¨æ–‡ã—ã¦ã‹ã‚‰10ç§’é–“ã®è¡¨ç¤ºå‡¦ç†ã‚’è¨˜è¿°ã€‚
                if(millis()-user2_orderTimeStamp>10000){//10ç§’é–“
                    user2_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
                    user2_orderFlag=0;
                    whiteGrad_u2=0;
                    whiteRadius_2=markerRadius;
                    whiteRad_step_2=0;
                    console.log("user2_orderFlag_å›åã—ãŸ")
                }
            }
            if(user3_orderFlag!=0){
                //!!--ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼3ãŒæ³¨æ–‡ã—ã¦ã‹ã‚‰10ç§’é–“ã®è¡¨ç¤ºå‡¦ç†ã‚’è¨˜è¿°ã€‚
                if(millis()-user3_orderTimeStamp>10000){//10ç§’é–“
                    user3_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
                    user3_orderFlag=0;
                    whiteGrad_u3=0;
                    whiteRadius_3=markerRadius;
                    whiteRad_step_3=0;
                    console.log("user3_orderFlag_å›åã—ãŸ")
                }
            }
            if(user4_orderFlag!=0){
                //!!--ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼4ãŒæ³¨æ–‡ã—ã¦ã‹ã‚‰10ç§’é–“ã®è¡¨ç¤ºå‡¦ç†ã‚’è¨˜è¿°ã€‚
                if(millis()-user4_orderTimeStamp>10000){//10ç§’é–“
                    user4_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
                    user4_orderFlag=0;
                    whiteGrad_u4=0;
                    whiteRadius_4=markerRadius;
                    whiteRad_step_4=0;
                    console.log("user4_orderFlag_å›åã—ãŸ")
                }
            }
            if(user5_orderFlag!=0){
                //!!--ã“ã“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼5ãŒæ³¨æ–‡ã—ã¦ã‹ã‚‰10ç§’é–“ã®è¡¨ç¤ºå‡¦ç†ã‚’è¨˜è¿°ã€‚
                if(millis()-user5_orderTimeStamp>10000){//10ç§’é–“
                    user5_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
                    user5_orderFlag=0;
                    whiteGrad_u5=0;
                    whiteRadius_5=markerRadius;
                    whiteRad_step_5=0;
                    console.log("user5_orderFlag_å›åã—ãŸ")
                }
            } 

        }//function draw çµ‚ã‚ã‚Š

        function reMapScroll(scrollValue){
            var mappedScrollValue=map(scrollValue, 0, 4979, 0, 360);
            return mappedScrollValue;
        }

        function userHistryItemCount(userHistry){
            //æ¸¡ã•ã‚ŒãŸé…åˆ—userHistryã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒitem0iã‚’è¦‹ãŸå›æ•°ã‚’èª¿ã¹ã‚‹
            //æ¸¡ã™é…åˆ—ã¯user1_histry, user2_histryãªã©ã®ã©ã‚Œã‹ã€‚
            var userHistry_itemCounts=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];
            for(var i=0; i<16; i++){
                for(var h=0; h<userHistry.length; h++){
                    if(userHistry[h]==i+1){
                        userHistry_itemCounts[i]++;
                    }
                }
            }
            return userHistry_itemCounts;
        }

        //--p5.js----p5.js----p5.js----p5.js----p5.js----p5.js--//
        //--p5.js----p5.js----p5.js----p5.js----p5.js----p5.js--//
    </script>

    <script type="module">
        //ä¸Šã®function setup() ã¨ function draw() ã«æ¯”ã¹ã¦ã“ã¡ã‚‰ãŒå…ˆã«å‡¦ç†ã•ã‚Œã‚‹ã€‚
        //ä½¿ã†å¤‰æ•°ã¯ã“ã“ã§ã¯ãªãä¸Šã®<script>ã§å®šç¾©ã—ã¦ãŠãã€‚
        //â€»firebaseã‹ã‚‰å–ã£ã¦ããŸãƒ‡ãƒ¼ã‚¿ã‚’æ ¼ç´ã—ãŸã„å¤‰æ•°ã‚‚ã€ä¸Šã®<script>ã§å®šç¾©ã—ã¦ãŠãã€‚
        console.log('a => '+a);
        b=2;

      document.addEventListener('DOMContentLoaded', function() {
        const loadEl = document.querySelector('#load');
        // // ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.firestore().doc('/foo/bar').get().then(() => { });
        // firebase.functions().httpsCallable('yourFunction')().then(() => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        // firebase.analytics(); // call to activate
        // firebase.analytics().logEvent('tutorial_completed');
        // firebase.performance(); // call to activate
        //
        // // ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥ğŸ”¥
        
      });
      //<script>ã¨æ›¸ã‘ã°ãã®ã‚ã¨ã¯javascriptã€‚"module"ã¨ã—ãŸã®ã¯exportã™ã‚‹ã¨ãã®ãŸã‚ã€‚

    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.5.0/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
      apiKey: "AIzaSyBS140kYu9SCZRFf49Ie3CdK0V_zRjk8Oo",
      authDomain: "myfirstfirebase-21c7a.firebaseapp.com",
      databaseURL: "https://myfirstfirebase-21c7a-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "myfirstfirebase-21c7a",
      storageBucket: "myfirstfirebase-21c7a.appspot.com",
      messagingSenderId: "188775071603",
      appId: "1:188775071603:web:fba94009c7432a27a04f06",
      measurementId: "G-250QQZ95GZ"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);

    var db=firebase.database();

    // db.ref('users/').once('value',(snapshot) =>{
    //     var data=snapshot.val();//JSONã§usersã®ãƒ‡ãƒ¼ã‚¿ã‚’å…¨ã¦å–å¾—ã€‚
    //     console.log(data);
    // });

    db.ref('users/'+1+'/currentPage/itemNumber').on('value',(snapshot) =>{
        var currentPage=snapshot.val();
        currentPageNum[0]=currentPage;
        user_cAngle[0]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_nAngle[0]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_posAngle[0]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        var checkedItem=snapshot.val();
        //ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ãƒ’ã‚¹ãƒˆãƒªãƒ¼ã«å•†å“ã‚’åŠ ãˆã‚‹
        if(checkedItem!=0){
            user1_histry.push(checkedItem);
            // console.log('user1_histry[] => '+user1_histry);
            // console.log('user1_histry_itemCounts => '+userHistryItemCount(user1_histry));
        }
    });
    db.ref('users/'+2+'/currentPage/itemNumber').on('value',(snapshot) =>{
        var currentPage=snapshot.val();
        currentPageNum[1]=currentPage;
        user_cAngle[1]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_nAngle[1]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_posAngle[1]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        var checkedItem=snapshot.val();
        //ãƒ¦ãƒ¼ã‚¶ãƒ¼2ã®ãƒ’ã‚¹ãƒˆãƒªãƒ¼ã«å•†å“ã‚’åŠ ãˆã‚‹
        if(checkedItem!=0){
            user2_histry.push(checkedItem);
            // console.log('user1_histry[] => '+user1_histry);
            // console.log('user1_histry_itemCounts => '+userHistryItemCount(user1_histry));
        }
    });
    db.ref('users/'+3+'/currentPage/itemNumber').on('value',(snapshot) =>{
        var currentPage=snapshot.val();
        currentPageNum[2]=currentPage;
        user_cAngle[2]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_nAngle[2]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_posAngle[2]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        var checkedItem=snapshot.val();
        //ãƒ¦ãƒ¼ã‚¶ãƒ¼3ã®ãƒ’ã‚¹ãƒˆãƒªãƒ¼ã«å•†å“ã‚’åŠ ãˆã‚‹
        if(checkedItem!=0){
            user3_histry.push(checkedItem);
            // console.log('user1_histry[] => '+user1_histry);
            // console.log('user1_histry_itemCounts => '+userHistryItemCount(user1_histry));
        }
    });
    db.ref('users/'+4+'/currentPage/itemNumber').on('value',(snapshot) =>{
        var currentPage=snapshot.val();
        currentPageNum[3]=currentPage;
        user_cAngle[3]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_nAngle[3]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_posAngle[3]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        var checkedItem=snapshot.val();
        //ãƒ¦ãƒ¼ã‚¶ãƒ¼4ã®ãƒ’ã‚¹ãƒˆãƒªãƒ¼ã«å•†å“ã‚’åŠ ãˆã‚‹
        if(checkedItem!=0){
            user4_histry.push(checkedItem);
            // console.log('user1_histry[] => '+user1_histry);
            // console.log('user1_histry_itemCounts => '+userHistryItemCount(user1_histry));
        }
    });
    db.ref('users/'+5+'/currentPage/itemNumber').on('value',(snapshot) =>{
        var currentPage=snapshot.val();
        currentPageNum[4]=currentPage;
        user_cAngle[4]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_nAngle[4]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        user_posAngle[4]=0;//è§’åº¦ã‚’ãƒªã‚»ãƒƒãƒˆ
        var checkedItem=snapshot.val();
        //ãƒ¦ãƒ¼ã‚¶ãƒ¼5ã®ãƒ’ã‚¹ãƒˆãƒªãƒ¼ã«å•†å“ã‚’åŠ ãˆã‚‹
        if(checkedItem!=0){
            user5_histry.push(checkedItem);
            // console.log('user1_histry[] => '+user1_histry);
            // console.log('user1_histry_itemCounts => '+userHistryItemCount(user1_histry));
        }
    });
    db.ref('users/'+1+'/currentPage/scroll').on('value',(snapshot) =>{
        var scroll=snapshot.val();
        userScroll[0]=reMapScroll(scroll);
        //  console.log("ãƒ¦ãƒ¼ã‚¶ãƒ¼1 ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ›´æ–° => "+userScroll[0]);
    })
    db.ref('users/'+2+'/currentPage/scroll').on('value',(snapshot) =>{
        var scroll=snapshot.val();
        userScroll[1]=reMapScroll(scroll);
        // console.log("ãƒ¦ãƒ¼ã‚¶ãƒ¼2 ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ›´æ–° => "+userScroll[1]);
    })
    db.ref('users/'+3+'/currentPage/scroll').on('value',(snapshot) =>{
        var scroll=snapshot.val();
        userScroll[2]=reMapScroll(scroll);
        // console.log("ãƒ¦ãƒ¼ã‚¶ãƒ¼3 ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ›´æ–° => "+userScroll[2]);
    })
    db.ref('users/'+4+'/currentPage/scroll').on('value',(snapshot) =>{
        var scroll=snapshot.val();
        userScroll[3]=reMapScroll(scroll);
        // console.log("ãƒ¦ãƒ¼ã‚¶ãƒ¼4 ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ›´æ–° => "+userScroll[3]);
    })
    db.ref('users/'+5+'/currentPage/scroll').on('value',(snapshot) =>{
        var scroll=snapshot.val();
        userScroll[4]=reMapScroll(scroll);
        // console.log("ãƒ¦ãƒ¼ã‚¶ãƒ¼5 ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ›´æ–° => "+userScroll[4]);
    })

    //ã‚«ã‚´ã«è¿½åŠ ã•ã‚ŒãŸã‚¢ã‚¤ãƒ†ãƒ ã«ã¤ã„ã¦ãƒ­ã‚°ã‚’å–å¾—ã™ã‚‹
    //ï¼Šã¾ã ãƒ¦ãƒ¼ã‚¶ãƒ¼1ã®ã¶ã‚“ã—ã‹æ›¸ã„ã¦ã„ãªã„
    db.ref('users/'+1+'/cargo_items').on('value',(snapshot) =>{
        var loadedCartItemList=snapshot.val();
        cartItemList_1[0]=loadedCartItemList.item01; cartItemList_1[1]=loadedCartItemList.item02; cartItemList_1[2]=loadedCartItemList.item03; cartItemList_1[3]=loadedCartItemList.item04; 
        cartItemList_1[4]=loadedCartItemList.item05; cartItemList_1[5]=loadedCartItemList.item06; cartItemList_1[6]=loadedCartItemList.item07; cartItemList_1[7]=loadedCartItemList.item08; 
        cartItemList_1[8]=loadedCartItemList.item09; cartItemList_1[9]=loadedCartItemList.item10; cartItemList_1[10]=loadedCartItemList.item11; cartItemList_1[11]=loadedCartItemList.item12; 
        cartItemList_1[12]=loadedCartItemList.item13; cartItemList_1[13]=loadedCartItemList.item14; cartItemList_1[14]=loadedCartItemList.item15; cartItemList_1[15]=loadedCartItemList.item16; 

        var indexChecker=cartItemList_1.some( function( value ) {
            return value === "ordered";//é…åˆ—å†…ã«ã€Œorderedã€ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œç´¢
        });
        if(indexChecker==true){//'ordered'ãŒå­˜åœ¨ã—ã¦ã„ãŸå ´åˆã€
            user1_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•
            user1_orderFlag=1;
            console.log("user1_orderFlagç«‹ã¦ãŸ");
        }
        console.log('indexChecker => '+indexChecker);
        console.log('cartItemList_1[] => '+cartItemList_1);
    })
    db.ref('users/'+2+'/cargo_items').on('value',(snapshot) =>{
        var loadedCartItemList=snapshot.val();
        cartItemList_2[0]=loadedCartItemList.item01; cartItemList_2[1]=loadedCartItemList.item02; cartItemList_2[2]=loadedCartItemList.item03; cartItemList_2[3]=loadedCartItemList.item04; 
        cartItemList_2[4]=loadedCartItemList.item05; cartItemList_2[5]=loadedCartItemList.item06; cartItemList_2[6]=loadedCartItemList.item07; cartItemList_2[7]=loadedCartItemList.item08; 
        cartItemList_2[8]=loadedCartItemList.item09; cartItemList_2[9]=loadedCartItemList.item10; cartItemList_2[10]=loadedCartItemList.item11; cartItemList_2[11]=loadedCartItemList.item12; 
        cartItemList_2[12]=loadedCartItemList.item13; cartItemList_2[13]=loadedCartItemList.item14; cartItemList_2[14]=loadedCartItemList.item15; cartItemList_2[15]=loadedCartItemList.item16; 
        
        var indexChecker=cartItemList_2.some( function( value ) {
            return value === "ordered";//é…åˆ—å†…ã«ã€Œorderedã€ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œç´¢
        });
        if(indexChecker==true){//'ordered'ãŒå­˜åœ¨ã—ã¦ã„ãŸå ´åˆã€
            user2_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•
            user2_orderFlag=1;
            console.log("user2_orderFlagç«‹ã¦ãŸ");
        }
        console.log('cartItemList_2[] => '+cartItemList_1);
    })
    db.ref('users/'+3+'/cargo_items').on('value',(snapshot) =>{
        var loadedCartItemList=snapshot.val();
        cartItemList_3[0]=loadedCartItemList.item01; cartItemList_3[1]=loadedCartItemList.item02; cartItemList_3[2]=loadedCartItemList.item03; cartItemList_3[3]=loadedCartItemList.item04; 
        cartItemList_3[4]=loadedCartItemList.item05; cartItemList_3[5]=loadedCartItemList.item06; cartItemList_3[6]=loadedCartItemList.item07; cartItemList_3[7]=loadedCartItemList.item08; 
        cartItemList_3[8]=loadedCartItemList.item09; cartItemList_3[9]=loadedCartItemList.item10; cartItemList_3[10]=loadedCartItemList.item11; cartItemList_3[11]=loadedCartItemList.item12; 
        cartItemList_3[12]=loadedCartItemList.item13; cartItemList_3[13]=loadedCartItemList.item14; cartItemList_3[14]=loadedCartItemList.item15; cartItemList_3[15]=loadedCartItemList.item16; 
        
        var indexChecker=cartItemList_3.some( function( value ) {
            return value === "ordered";//é…åˆ—å†…ã«ã€Œorderedã€ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œç´¢
        });
        if(indexChecker==true){//'ordered'ãŒå­˜åœ¨ã—ã¦ã„ãŸå ´åˆã€
            user3_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•
            user3_orderFlag=1;
            console.log("user3_orderFlagç«‹ã¦ãŸ");
        }
        console.log('cartItemList_3[] => '+cartItemList_1);
    })
    db.ref('users/'+4+'/cargo_items').on('value',(snapshot) =>{
        var loadedCartItemList=snapshot.val();
        cartItemList_4[0]=loadedCartItemList.item01; cartItemList_4[1]=loadedCartItemList.item02; cartItemList_4[2]=loadedCartItemList.item03; cartItemList_4[3]=loadedCartItemList.item04; 
        cartItemList_4[4]=loadedCartItemList.item05; cartItemList_4[5]=loadedCartItemList.item06; cartItemList_4[6]=loadedCartItemList.item07; cartItemList_4[7]=loadedCartItemList.item08; 
        cartItemList_4[8]=loadedCartItemList.item09; cartItemList_4[9]=loadedCartItemList.item10; cartItemList_4[10]=loadedCartItemList.item11; cartItemList_4[11]=loadedCartItemList.item12; 
        cartItemList_4[12]=loadedCartItemList.item13; cartItemList_4[13]=loadedCartItemList.item14; cartItemList_4[14]=loadedCartItemList.item15; cartItemList_4[15]=loadedCartItemList.item16; 
        
        var indexChecker=cartItemList_4.some( function( value ) {
            return value === "ordered";//é…åˆ—å†…ã«ã€Œorderedã€ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œç´¢
        });
        if(indexChecker==true){//'ordered'ãŒå­˜åœ¨ã—ã¦ã„ãŸå ´åˆã€
            user4_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•
            user4_orderFlag=1;
            console.log("user4_orderFlagç«‹ã¦ãŸ");
        }
        console.log('cartItemList_4[] => '+cartItemList_1);
    })
    db.ref('users/'+5+'/cargo_items').on('value',(snapshot) =>{
        var loadedCartItemList=snapshot.val();
        cartItemList_5[0]=loadedCartItemList.item01; cartItemList_5[1]=loadedCartItemList.item02; cartItemList_5[2]=loadedCartItemList.item03; cartItemList_5[3]=loadedCartItemList.item04; 
        cartItemList_5[4]=loadedCartItemList.item05; cartItemList_5[5]=loadedCartItemList.item06; cartItemList_5[6]=loadedCartItemList.item07; cartItemList_5[7]=loadedCartItemList.item08; 
        cartItemList_5[8]=loadedCartItemList.item09; cartItemList_5[9]=loadedCartItemList.item10; cartItemList_5[10]=loadedCartItemList.item11; cartItemList_5[11]=loadedCartItemList.item12; 
        cartItemList_5[12]=loadedCartItemList.item13; cartItemList_5[13]=loadedCartItemList.item14; cartItemList_5[14]=loadedCartItemList.item15; cartItemList_5[15]=loadedCartItemList.item16; 
        
        var indexChecker=cartItemList_5.some( function( value ) {
            return value === "ordered";//é…åˆ—å†…ã«ã€Œorderedã€ãŒå­˜åœ¨ã™ã‚‹ã‹ã©ã†ã‹ã‚’æ¤œç´¢
        });
        if(indexChecker==true){//'ordered'ãŒå­˜åœ¨ã—ã¦ã„ãŸå ´åˆã€
            user5_orderTimeStamp=millis();//ã‚¿ã‚¤ãƒãƒ¼èµ·å‹•
            user5_orderFlag=1;
            console.log("user5_orderFlagç«‹ã¦ãŸ");
        }console.log('cartItemList_5[] => '+cartItemList_1);
    })

    //è¦‹ã¦ã„ã‚‹å†™çœŸNo.ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã”ã¨ã«å–å¾—
    db.ref('users/'+1+'/currentPage/seeingPhoto').on('value',(snapshot) =>{
        user_seeingPhoto[0]=snapshot.val();
        user_angleMoveFlag[0]=1;
        //console.log('user1_seeingPhoto => '+user1_seeingPhoto);
    })
    db.ref('users/'+2+'/currentPage/seeingPhoto').on('value',(snapshot) =>{
        user_seeingPhoto[1]=snapshot.val();
        user_angleMoveFlag[1]=1;
    })
    db.ref('users/'+3+'/currentPage/seeingPhoto').on('value',(snapshot) =>{
        user_seeingPhoto[2]=snapshot.val();
        user_angleMoveFlag[2]=1;
    })
    db.ref('users/'+4+'/currentPage/seeingPhoto').on('value',(snapshot) =>{
        user_seeingPhoto[3]=snapshot.val();
        user_angleMoveFlag[3]=1;
    })
    db.ref('users/'+5+'/currentPage/seeingPhoto').on('value',(snapshot) =>{
        user_seeingPhoto[4]=snapshot.val();
        user_angleMoveFlag[4]=1;
    })

    </script>
  </body>
</html>
